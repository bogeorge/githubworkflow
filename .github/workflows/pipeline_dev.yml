#----------------------------------------------------------------------------------------------------------------------
# This workflow will execute to build and test the application on commits to development branches
# It can optionally deploy to the alpha environment by prefixing your last commit comment with #alpha
#----------------------------------------------------------------------------------------------------------------------
name: Development Pipeline

on: 
  push:
    branches-ignore:
      - 'main'
      - 'beta'

jobs:

  build:
     uses: github_workflows/.github/workflows/build.yml@v1.0

  deploy-alpha:
    if: ${{ startsWith(github.event.head_commit.message, '#alpha') }}
    uses: github_workflows/.github/workflows/deploy.yml@v1.0
    with:
      environment: alpha
    needs: [ build ]